def magic_calculation(x, y, z):
    if x < y:
        return z
    elif y < z:
        return x + y
    else:
        return x * y - z
